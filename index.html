<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Join HentaiWorld! (18+)</title>
  <style>
    html, body {
      margin: 0; padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }
    .overlay, #redirectContent {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 20px #0008;
      border-radius: 18px;
      width: 320px;
      text-align: center;
      padding: 40px 20px 30px 20px;
      z-index: 10;
      background: #2f3136dd;
    }
    #homeContent {
      background: #2f3136dd;
    }
    body.home {
      background: url('https://i.ibb.co/CRVBsc0/IMG-2682.jpg') no-repeat center center fixed;
      background-size: cover;
    }
    body.redirect {
      background: linear-gradient(135deg, #f9a8ea 0%, #b093fb 50%, #f5576c 100%);
    }
    #redirectContent {
      background: linear-gradient(120deg, #b36fd7ee 0%, #ffb0cbcc 100%);
      color: #f8f8ff;
      border-radius: 18px;
      padding: 36px 18px 22px 18px;
      width: 340px;
      max-width: 95vw;
      box-shadow: 0 6px 36px #a67dcc44;
    }
    #redirectContent h2 {
      background: linear-gradient(90deg, #731874 0%, #ae3b9a 60%, #ff71b0 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-size: 22px;
      margin-bottom: 15px;
      font-weight: bold;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 12px #7c177155;
    }
    #redirectContent .desc {
      font-size: 15px;
      color: #faf4fa;
      margin-bottom: 14px;
      text-shadow: 0 1px 10px #7a186255;
    }
    #linkContainer a {
      display: inline-block;
      background: linear-gradient(90deg, #fff1fb 0%, #f9c5e6 100%);
      border-radius: 8px;
      color: #b12b90;
      font-weight: bold;
      padding: 11px 18px;
      font-size: 16px;
      margin: 18px 0 10px 0;
      text-decoration: underline;
      word-break: break-word;
      transition: background 0.18s, color 0.18s;
      box-shadow: 0 2px 10px #ed63f644;
    }
    #linkContainer a:hover {
      background: linear-gradient(90deg, #f9c5e6 0%, #fff1fb 100%);
      color: #701964;
    }
    .native-bottom {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 10001;
      width: 100vw;
      background: none !important;
      text-align: center;
      padding: 0;
      min-height: 0;
      pointer-events: none;
    }
    .native-bottom > * { pointer-events: auto; }
    .btn {
      background-color: #5865f2;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 10px;
      text-decoration: none;
      display: inline-block;
    }
    .btn:hover {
      background-color: #4752c4;
    }
    .overlay h2 {
      margin-top: 0;
      font-size: 20px;
    }
    .overlay .stats {
      font-size: 14px;
      color: #b9bbbe;
      margin: 10px 0;
    }
    @media (max-width: 600px) {
      .overlay, #redirectContent {
        width: 99vw !important;
        min-width: 0 !important;
        padding: 10vw 2vw 18vw 2vw !important;
        max-width: none;
        font-size: 15px !important;
        margin-bottom: 13vw;
      }
      #redirectContent { font-size:14px; }
      .native-bottom {
        bottom: 45px !important;
        min-height: 32px !important;
        height: 34px !important;
        font-size: 10px !important;
      }
      #container-469ea093807163ac0a897b84904b05f3 {
        min-height: 26px !important;
        height: 28px !important;
        max-height: 32px !important;
        overflow: hidden !important;
      }
      #linkContainer {
        margin-bottom: 17vw !important;
      }
    }
  </style>
  <script type="text/javascript" src="//nevillequery.com/05/53/8c/05538ccfd2ac65eb254159df90e03fe5.js"></script>
</head>
<body class="home">

<div class="overlay" id="homeContent">
  <img src="https://i.ibb.co/CRVBsc0/IMG-2682.jpg" alt="Logo" width="60" />
  <h2>You've been invited to join<br><strong>HentaiWorld! (18+)</strong></h2>
  <div class="stats">ðŸŸ¢ 5,513 Online â€¢ 50,260 Members</div>
  <a class="btn" href="https://discord.com/invite/KTNu77SR" target="_blank">Accept Invite</a>
</div>

<div id="redirectContent" style="display:none;">
  <h2>Leak Link:</h2>
  <div class="desc">Click the link below to access the leak.<br></div>
  <div id="linkContainer"></div>
</div>

<div class="native-bottom" id="native-banner-bottom" style="display:none;">
  <script async="async" data-cfasync="false" src="//nevillequery.com/469ea093807163ac0a897b84904b05f3/invoke.js"></script>
  <div id="container-469ea093807163ac0a897b84904b05f3"></div>
</div>

<script>
  const DIRECT_LINK_URL = 'https://nevillequery.com/w3nhbxk29?key=25cce52923eca2e5c00ec5a4d16ab7f2';
  const UNLOCK_DURATION_MS = 5 * 60 * 1000; // 5 Minuten

  // Hilfsfunktionen fÃ¼r LocalStorage-Flag inkl. Zeitstempel
  function setRedirectUnlocked(val) {
    if (!window.urlParam) return;
    if (val) {
      localStorage.setItem('redirect_unlocked_' + window.urlParam, JSON.stringify({
        unlocked: true,
        ts: Date.now()
      }));
    } else {
      localStorage.removeItem('redirect_unlocked_' + window.urlParam);
    }
  }
  function isRedirectUnlocked() {
    if (!window.urlParam) return false;
    const raw = localStorage.getItem('redirect_unlocked_' + window.urlParam);
    if (!raw) return false;
    try {
      const data = JSON.parse(raw);
      if (!data.unlocked || !data.ts) return false;
      // PrÃ¼fe auf Ablauf
      if ((Date.now() - data.ts) > UNLOCK_DURATION_MS) {
        // Abgelaufen -> lÃ¶schen
        setRedirectUnlocked(false);
        return false;
      }
      return true;
    } catch(e) { return false; }
  }

  function click(target) {
    // Nur beim ersten Klick Werbung Ã¶ffnen:
    if (!isRedirectUnlocked()) {
      window.open(DIRECT_LINK_URL, '_blank', 'noopener');
      setRedirectUnlocked(true);
    }
    // Immer direkt zur Zielseite weiterleiten
    window.location.href = target;
  }

  const params = new URLSearchParams(window.location.search);
  const urlParam = params.get('u');
  window.urlParam = urlParam;

  function showScanningBlock() {
    document.body.className = 'redirect';
    document.getElementById('homeContent').style.display = 'none';
    document.getElementById('redirectContent').style.display = 'block';
    document.getElementById('native-banner-bottom').style.display = 'block';
    document.getElementById('redirectContent').innerHTML = `
      <h2>Leak Link:</h2>
      <div class="desc" style="color:#ffb4c2">
        <span id="scanText">Scanning for VPN, Proxy, Hosting, AdBlock, Popups, and suspicious browser...</span>
      </div>
      <div id="linkContainer">
        <a href="javascript:void(0)" style="pointer-events:none;opacity:0.6;text-decoration:none;background:#d4d4d488;">Link Locked</a>
      </div>
    `;
  }

  function setLinkState(allowed, reasonText) {
    if (!urlParam) return;
    if (allowed) {
      try {
        const target = decodeURIComponent(urlParam);
        document.getElementById('redirectContent').innerHTML = `
          <h2>Leak Link:</h2>
          <div class="desc">Click the link below to access the leak.<br></div>
          <div id="linkContainer"></div>
        `;
        const linkElement = document.createElement('a');
        linkElement.href = target;
        linkElement.textContent = isRedirectUnlocked() ? "Go to the leak" : "Click here to view the leak";
        linkElement.rel = 'noopener noreferrer';
        linkElement.onclick = function (e) {
          e.preventDefault();
          click(target);
          return false;
        };
        document.getElementById('linkContainer').appendChild(linkElement);

        // Hinweis anzeigen, wenn unlocked bald ablÃ¤uft (optional)
        if (isRedirectUnlocked()) {
          const raw = localStorage.getItem('redirect_unlocked_' + window.urlParam);
          if (raw) {
            const data = JSON.parse(raw);
            const remaining = UNLOCK_DURATION_MS - (Date.now() - data.ts);
            if (remaining > 0) {
              const mins = Math.floor(remaining / 60000);
              const secs = Math.floor((remaining % 60000) / 1000);
              const info = document.createElement('div');
              info.style.fontSize = "13px";
              info.style.marginTop = "7px";
              info.style.color = "#ffd8fd";
              info.innerText = "Direct access unlocked for " + mins + ":" + (secs<10?"0":"") + secs + " min.";
              document.getElementById('linkContainer').appendChild(info);
            }
          }
        }
      } catch (e) {
        document.getElementById('redirectContent').innerHTML = "<h2>Invalid Link</h2><p>The provided link is not properly encoded.</p>";
      }
    } else {
      document.getElementById('redirectContent').innerHTML = `
        <h2>Access Denied</h2>
        <div class="desc" style="color:#ffb4c2">
          ${reasonText || "Please disable all AdBlockers, VPNs, Proxies, Hosting IPs, allow Popups and use a regular browser to view this page."}
        </div>
        <div id="linkContainer">
          <a href="javascript:void(0)" style="pointer-events:none;opacity:0.6;text-decoration:none;background:#d4d4d488;">Link Locked</a>
        </div>
      `;
    }
  }

  if (urlParam) showScanningBlock();

  window.addEventListener('load', function() {
    if (!urlParam) return;
    setTimeout(function(){
      setLinkState(true, "");
    }, 200);
  });
</script>
<script type='text/javascript' src='//nevillequery.com/b1/f8/52/b1f85271852f69f54c54d2c999ec0f35.js'></script>
</body>
</html>
